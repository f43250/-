# Redis

## 应用场景
 - 数据缓存
 - 分布式锁 redission/lua脚本
 - 消息队列 
 - 数据持久 `AOF/RDB`
 - 事务 multi()开启,exec()提交事务.

## redis为什么快?
- 单线程
- 内存操作
  - 内存为什么比硬盘快
    - 内存被CPU直接管理
    - 内存是电存储,硬盘是磁存储,电是瞬间到达比磁头转动快
- 非阻塞IO多路复用
## 缓存处理流程
前台请求,先从缓存中获取数据,取到直接返回结果.取不到从数据库中取,数据库取到则更新缓存,取不到直接空结果.

## 穿透/击穿/雪崩
| 类型 | 含义 | 解决方法|
| ---- | ---- | ---- |
| 击穿 | 访问缓存不存在但数据库存在的数据 | 设置永不过期
| 穿透 | 访问缓存数据库都不存在的数据 | 访问数据库存在但缓存不存在的数据 | 设置校验或者缓存写入key为null,设置一个短时间例如30秒,防止用户暴力攻击
| 雪崩 | 某一时刻key大面积时间过期 | 设置随机过期时间

